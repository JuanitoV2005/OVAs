<h2>Responde las siguientes preguntas</h2>
  <div class="container">
    
    <div class="card" id="questionCard">
      
      <div id="questions"></div>
    </div>
    <div class="card" >
      <div id="p5-container" style="text-align: center;vertical-align: middle;"></div>
    </div>
  </div>

  <div class="buttons">
    <button id="verifyBtn" disabled>Verificar</button>
    <button id="nextBtn" disabled>Siguiente</button>
  </div>

  <div id="successModal">
    <div class="modal-content">
      <h2>ðŸŽ‰ Â¡Excelente trabajo!</h2>
      <p>Has respondido correctamente todas las preguntas de este nivel.</p>
      <button onclick="closeModal()">Continuar</button>
    </div>
  </div>
  
  <div class="level-counter" id="levelIndicator">Nivel 1 de 3</div>

  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script> -->
  <!-- <script>
    const levels = [
      [
        { id: "q1", question: "Â¿CuÃ¡l es la capital de Francia?", correctAnswer: "ParÃ­s" },
        { id: "q2", question: "Â¿CuÃ¡l es el ocÃ©ano mÃ¡s grande del mundo?", correctAnswer: "PacÃ­fico" }
      ],
      [
        { id: "q3", question: "Â¿QuiÃ©n escribiÃ³ 'Don Quijote'?", correctAnswer: "Cervantes" },
        { id: "q4", question: "Â¿CuÃ¡ntos planetas tiene el sistema solar?", correctAnswer: "8" }
      ],
      [
        { id: "q5", question: "Â¿En quÃ© aÃ±o cayÃ³ el Muro de BerlÃ­n?", correctAnswer: "1989" },
        { id: "q6", question: "Â¿CuÃ¡l es el paÃ­s mÃ¡s grande del mundo?", correctAnswer: "Rusia" }
      ]
    ];

    let currentLevel = 0;
    let answers = {};
    let validationResults = {};
    let isVerified = false;

    const container = document.getElementById("questions");
    const verifyBtn = document.getElementById("verifyBtn");
    const nextBtn = document.getElementById("nextBtn");
    const levelIndicator = document.getElementById("levelIndicator");

    function setupLevel(level) {
      container.innerHTML = "";
      answers = {};
      validationResults = {};
      isVerified = false;
      nextBtn.disabled = true;

      const questions = levels[level];

      questions.forEach((q, index) => {
        const div = document.createElement("div");
        div.className = "input-group";

        const label = document.createElement("label");
        label.textContent = `${index + 1}. ${q.question}`;
        label.setAttribute("for", q.id);

        const input = document.createElement("input");
        input.type = "text";
        input.id = q.id;

        input.addEventListener("input", () => {
          answers[q.id] = input.value.trim();
          input.classList.remove("correct", "incorrect");
          validationResults[q.id] = null;
          isVerified = false;
          updateVerifyButton();
          nextBtn.disabled = true;
        });

        div.appendChild(label);
        div.appendChild(input);
        container.appendChild(div);
      });

      updateVerifyButton();
      updateLevelIndicator();
    }

    function updateVerifyButton() {
      const currentQuestions = levels[currentLevel];
      const allFilled = currentQuestions.every(q => answers[q.id]);
      verifyBtn.disabled = !allFilled;
    }

    function updateLevelIndicator() {
      levelIndicator.textContent = `Nivel ${currentLevel + 1} de ${levels.length}`;
    }

    verifyBtn.addEventListener("click", () => {
      const currentQuestions = levels[currentLevel];
      let allCorrect = true;

      currentQuestions.forEach((q) => {
        const input = document.getElementById(q.id);
        const answer = (answers[q.id] || "").toLowerCase();
        const correct = q.correctAnswer.toLowerCase();

        if (answer === correct) {
          input.classList.add("correct");
          input.classList.remove("incorrect");
          validationResults[q.id] = true;
        } else {
          input.classList.add("incorrect");
          input.classList.remove("correct");
          validationResults[q.id] = false;
          allCorrect = false;
        }
      });

      isVerified = true;
      nextBtn.disabled = !allCorrect;

      if (allCorrect) {
        document.getElementById("successModal").style.display = "flex";
      }
    });

    function closeModal() {
      document.getElementById("successModal").style.display = "none";
    }

    nextBtn.addEventListener("click", () => {
      currentLevel++;
      if (currentLevel < levels.length) {
        setupLevel(currentLevel);
      } else {
        alert("ðŸŽ‰ Â¡Has completado todos los niveles!");
      }
    });

    // Inicializar el primer nivel
    setupLevel(currentLevel);

    // Sketch P5 instancia
    function quiz1(p) {
      p.setup = function () {
        const canvas = p.createCanvas(400, 400);
        canvas.parent("p5-container");
        p.background(240);
      };

      p.draw = function () {
        p.background(240);
        p.fill(100, 150, 255);
        p.noStroke();
        p.ellipse(p.width / 2, p.height / 2, 100, 100);
        p.fill(0);
        p.textAlign(p.CENTER, p.CENTER);
        p.text("Quiz", p.width / 2, p.height / 2);
      };
    }

    // Iniciar el sketch
    new p5(quiz1, "p5-container");
  </script> -->